(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d22c2cf"],{f1b0:function(e,t,n){"use strict";n.r(t);var i,s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{height:"100%",width:"100%"}},[n("design-view",{ref:"designView",attrs:{background:"lightgray"}})],1)},o=[],a=(n("6b54"),n("c34c")),r=n("d225"),h=n("b0b4"),u=n("308d"),l=n("6bb5"),c=n("4e2b"),d=n("1771"),f=n("a374"),g=function(e){function t(){var e;return Object(r["a"])(this,t),e=Object(u["a"])(this,Object(l["a"])(t).apply(this,arguments)),e._bounds=new f["a"](0,0,0,0),e}return Object(c["a"])(t,e),Object(h["a"])(t,[{key:"Fetch",value:function(e){this._id=e.ID,this._bounds.X=e.Bounds.X,this._bounds.Y=e.Bounds.Y,this._bounds.Width=e.Bounds.Width,this._bounds.Height=e.Bounds.Height}},{key:"SetBounds",value:function(e,t,n,i,s){}},{key:"Paint",value:function(e){if(e.fillStyle="white",e.fillRect(0,0,this.Bounds.Width,this.Bounds.Height),e.strokeStyle="rgb(173,219,241)",e.lineWidth=1,e.strokeRect(0,0,this.Bounds.Width,this.Bounds.Height),this.Items)for(var t=0;t<this.Items.length;t++)this.Items[t].Paint(e)}},{key:"Bounds",get:function(){return this._bounds},set:function(e){}},{key:"IsContainer",get:function(){return!0}}]),t}(d["a"]),v=n("fe0c"),B=n("1fb1"),b=function(e){function t(){var e;return Object(r["a"])(this,t),e=Object(u["a"])(this,Object(l["a"])(t).apply(this,arguments)),e.anchorSize=6,e.anchorLocation=B["a"].None,e}return Object(c["a"])(t,e),Object(h["a"])(t,[{key:"OnRender",value:function(e){e.strokeStyle="darkgray",e.lineWidth=2,e.strokeRect(-3,-3,this.Target.Bounds.Width+6,this.Target.Bounds.Height+6),this.DrawAnchor(e,this.BottomCenter)}},{key:"DrawAnchor",value:function(e,t){e.fillStyle="white",e.fillRect(t.X,t.Y,t.Width,t.Height),e.strokeStyle="black",e.lineWidth=1,e.strokeRect(t.X,t.Y,t.Width,t.Height)}},{key:"HitTest",value:function(e){var t="";return this.BottomCenter.Contains(e.X,e.Y)?(this.anchorLocation=B["a"].BottomCenter,t="s-resize"):this.anchorLocation=B["a"].None,this.anchorLocation!=B["a"].None?[!0,t]:[!1,t]}},{key:"OnMouseMove",value:function(e){this.Target.Resize(this.anchorLocation,e.DeltaX,e.DeltaY)}},{key:"OnMouseUp",value:function(e){this.Target.OnEndResize()}},{key:"BottomCenter",get:function(){return new f["a"]((this.Target.Bounds.Width-this.anchorSize)/2,this.Target.Bounds.Height,this.anchorSize,this.anchorSize)}}]),t}(v["a"]),m=n("b7c5"),I=n("8500"),T=function(e){function t(){var e;return Object(r["a"])(this,t),e=Object(u["a"])(this,Object(l["a"])(t).apply(this,arguments)),e._bounds=new f["a"](0,0,0,0),e}return Object(c["a"])(t,e),Object(h["a"])(t,[{key:"Fetch",value:function(e){this._id=e.ID,this._bounds.X=e.Bounds.X,this._bounds.Y=e.Bounds.Y,this._bounds.Width=e.Bounds.Width,this._bounds.Height=e.Bounds.Height}},{key:"SetBounds",value:function(e,t,n,i,s){if(s===m["a"].Height){var o=i-this._bounds.Height;if(this.Parent){this._bounds.Height=i;for(var a=-1,r=0;r<this.Parent.Items.length;r++){var h=this.Parent.Items[r];-1===a&&h===this&&(a=r),-1!==a&&r>a&&(h.Bounds.Y+=o)}this.Parent.Bounds.Height+=o}this.Surface&&this.Surface.Invalidate()}}},{key:"Paint",value:function(e){if(e.strokeStyle="rgb(173,219,241)",e.lineWidth=1,e.strokeRect(this.Bounds.X,this.Bounds.Y,this.Bounds.Width,this.Bounds.Height),this.Items){e.translate(this.Bounds.X,this.Bounds.Y);for(var t=0;t<this.Items.length;t++)this.Items[t].Paint(e);e.translate(-this.Bounds.X,-this.Bounds.Y)}}},{key:"Bounds",get:function(){return this._bounds},set:function(e){this.SetBounds(e.X,e.Y,e.Width,e.Height,m["a"].All)}},{key:"IsContainer",get:function(){return!0}},{key:"Behavior",get:function(){return I["a"].CanResize}},{key:"SelectionAdorner",get:function(){return!this._selectionAdorner&&this.Surface&&(this._selectionAdorner=new b(this.Surface.Adorners,this)),this._selectionAdorner}}]),t}(d["a"]);(function(e){e[e["ReportRoot"]=0]="ReportRoot",e[e["ReportSection"]=1]="ReportSection",e[e["TextBox"]=2]="TextBox",e[e["Table"]=3]="Table",e[e["Graph"]=4]="Graph"})(i||(i={}));var y=i,C=n("2a88"),S=n("2de8"),p=function(e){function t(){return Object(r["a"])(this,t),Object(u["a"])(this,Object(l["a"])(t).apply(this,arguments))}return Object(c["a"])(t,e),Object(h["a"])(t,[{key:"Fetch",value:function(e){Object(C["a"])(Object(l["a"])(t.prototype),"Fetch",this).call(this,e);var n=new Image;n.src="data:image/png;base64,"+e.Bitmap;var i=this;n.onload=function(){i._bitmap=n,i.Invalidate()}}},{key:"Paint",value:function(e){e.strokeStyle="rgb(173,219,241)",e.lineWidth=1,e.strokeRect(this.Bounds.X,this.Bounds.Y,this.Bounds.Width,this.Bounds.Height),this._bitmap&&e.drawImage(this._bitmap,0,0,this.Bounds.Width,this.Bounds.Height,this.Bounds.X,this.Bounds.Y,this.Bounds.Width,this.Bounds.Height)}}]),t}(S["a"]),k=function(e){function t(){return Object(r["a"])(this,t),Object(u["a"])(this,Object(l["a"])(t).apply(this,arguments))}return Object(c["a"])(t,e),Object(h["a"])(t,[{key:"Fetch",value:function(e){Object(C["a"])(Object(l["a"])(t.prototype),"Fetch",this).call(this,e);var n=new Image;n.src="data:image/png;base64,"+e.Bitmap;var i=this;n.onload=function(){i._bitmap=n,i.Invalidate()}}},{key:"Paint",value:function(e){e.strokeStyle="rgb(173,219,241)",e.lineWidth=1,e.strokeRect(this.Bounds.X,this.Bounds.Y,this.Bounds.Width,this.Bounds.Height),this._bitmap&&e.drawImage(this._bitmap,0,0,this.Bounds.Width,this.Bounds.Height,this.Bounds.X,this.Bounds.Y,this.Bounds.Width,this.Bounds.Height)}}]),t}(S["a"]),_=(n("6c7b"),10),w=5,P="rgb(100, 149, 237)",O=function(){function e(){Object(r["a"])(this,e)}return Object(h["a"])(e,[{key:"HitTest",value:function(e){return this.Bounds.Contains(e.X,e.Y)?[!0,this.Cursor]:[!1,""]}}]),e}(),D=function(){function e(){Object(r["a"])(this,e)}return Object(h["a"])(e,[{key:"HitTest",value:function(e){return this.Bounds.Contains(e.X,e.Y)?[!0,this.Cursor]:[!1,""]}}]),e}(),R=function(e){function t(){var e;return Object(r["a"])(this,t),e=Object(u["a"])(this,Object(l["a"])(t).apply(this,arguments)),e._hitTestElement=null,e}return Object(c["a"])(t,e),Object(h["a"])(t,[{key:"DrawMoveArrows",value:function(e,t,n){var i=e.strokeStyle,s=e.lineWidth;e.beginPath(),e.strokeStyle="black",e.lineWidth=2,e.moveTo(3.5,n/2),e.lineTo(t-3.5,n/2),e.moveTo(t/2,3.5),e.lineTo(t/2,n-3.5),e.stroke(),e.beginPath(),e.fillStyle="black",e.moveTo(0,n/2),e.lineTo(3.5,n/2-3.5),e.lineTo(3.5,n/2+3.5),e.lineTo(0,n/2),e.closePath(),e.fill(),e.beginPath(),e.moveTo(t,n/2),e.lineTo(t-3.5,n/2-3.5),e.lineTo(t-3.5,n/2+3.5),e.lineTo(t,n/2),e.closePath(),e.fill(),e.beginPath(),e.moveTo(t/2,0),e.lineTo(t/2-3.5,n/2-3.5),e.lineTo(t/2+3.5,n/2-3.5),e.lineTo(t/2,0),e.closePath(),e.fill(),e.beginPath(),e.moveTo(t/2,n),e.lineTo(t/2-3.5,n-3.5),e.lineTo(t/2+3.5,n-3.5),e.lineTo(t/2,n),e.closePath(),e.fill(),e.strokeStyle=i,e.lineWidth=s}},{key:"DrawSelectedCells",value:function(e,t){for(var n,i,s,o,a,r,h,u,l=!1,c=0;c<t.length;c++){var d=t[c];if(d instanceof S["a"]&&d.Parent===this.Target){var f,g,v,B;l=!0,n=Math.ceil(d.Bounds.X),i=Math.ceil(d.Bounds.Y),s=Math.ceil(d.Bounds.X+d.Bounds.Width),o=i,a=0,r=0,h=0,u=0;for(var b=0;b<t.length;b++)if(c!=b){var m=t[b];if(m instanceof S["a"]&&m.Parent===this.Target){if(f=Math.ceil(m.Bounds.X),g=Math.ceil(m.Bounds.Y+m.Bounds.Height),v=Math.ceil(f+m.Bounds.Width),B=g,o!=g)continue;if(n>=f&&s<=v&&a==h){l=!1;break}if(n<f&&f<=s&&a==h){s=f;continue}if(n>=f&&n<v&&a==h){n=v;continue}if(n<f&&s>v&&a==h){h=s,s=f,a=v,r=i,u=i;continue}if(n<=f&&s==v){s=f;continue}if(a!=h&&a==f&&h<=v){a=v,r=i,u=i;continue}}}l&&(e.beginPath(),n!=s&&(e.moveTo(n,i),e.lineTo(s,o)),a!=h&&(e.moveTo(a,r),e.lineTo(h,u)),e.stroke()),l=!0,n=Math.ceil(d.Bounds.X),i=Math.ceil(d.Bounds.Y+d.Bounds.Height),s=Math.ceil(d.Bounds.X+d.Bounds.Width),o=i,a=0,r=0,h=0,u=0;for(b=0;b<t.length;b++)if(c!=b){m=t[b];if(m instanceof S["a"]&&m.Parent===this.Target){if(f=Math.ceil(m.Bounds.X),g=Math.ceil(m.Bounds.Y),v=Math.ceil(f+m.Bounds.Width),B=g,o!=g)continue;if(n>=f&&s<=v&&a==h){l=!1;break}if(n>=f&&n<v&&a==h){n=v;continue}if(n<f&&f<=s&&a==h){s=f;continue}if(n<f&&s>v&&a==h){h=s,s=f,a=v,r=i,u=i;continue}if(n<=f&&s==v){s=f;continue}if(a!=h&&a==f&&v<=h){a=v;continue}}}l&&(e.beginPath(),n!=s&&(e.moveTo(n,i),e.lineTo(s,o)),a!=h&&(e.moveTo(a,r),e.lineTo(h,u)),e.stroke()),l=!0,n=Math.ceil(d.Bounds.X),i=Math.ceil(d.Bounds.Y),s=n,o=Math.ceil(i+d.Bounds.Height),a=0,r=0,h=0,u=0;for(b=0;b<t.length;b++)if(c!=b){m=t[b];if(m instanceof S["a"]&&m.Parent===this.Target){if(f=Math.ceil(m.Bounds.X+m.Bounds.Width),g=Math.ceil(m.Bounds.Y),v=f,B=Math.ceil(g+m.Bounds.Height),s!=f)continue;if(i>=g&&o<=B&&r==u){l=!1;break}if(i>=g&&i<B&&r==u){i=B;continue}if(o<=B&&o>g&&r==u){o=g;continue}if(i<g&&o>B&&r==u){u=o,o=g,r=B,a=f,h=f;continue}if(i<g&&o==B){o=g;continue}if(i==g&&u>B){i=B;continue}if(r!=u&&r==g&&B>u){r=u;continue}if(r!=u&&o==B&&g<i){i=o;continue}}}l&&(e.beginPath(),i!=o&&(e.moveTo(n,i),e.lineTo(s,o)),r!=u&&(e.moveTo(a,r),e.lineTo(h,u)),e.stroke()),l=!0,n=Math.ceil(d.Bounds.X+d.Bounds.Width),i=Math.ceil(d.Bounds.Y),s=n,o=Math.ceil(i+d.Bounds.Height),a=0,r=0,h=0,u=0;for(b=0;b<t.length;b++)if(c!=b){m=t[b];if(m instanceof S["a"]&&m.Parent===this.Target){if(f=Math.ceil(m.Bounds.X),g=Math.ceil(m.Bounds.Y),v=f,B=Math.ceil(g+m.Bounds.Height),s!=f)continue;if(i>=g&&o<=B&&r==u){l=!1;break}if(i>=g&&i<B&&r==u){i=B;continue}if(o<=B&&o>g&&r==u){o=g;continue}if(i<g&&o>B&&r==u){u=o,o=g,r=B,a=f,h=f;continue}if(i<g&&o==B){o=g;continue}if(i==g&&u>B){i=B;continue}if(r!=u&&r==g&&B>u){r=u;continue}if(r!=u&&o==B&&g<i){i=o;continue}}}l&&(e.beginPath(),i!=o&&(e.moveTo(n,i),e.lineTo(s,o)),r!=u&&(e.moveTo(a,r),e.lineTo(h,u)),e.stroke())}}}},{key:"OnRender",value:function(e){e.fillStyle="rgb(240,240,240)",e.fillRect(-_,-_,this.Target.Bounds.Width+_,_),e.fillRect(-_,0,_,this.Target.Bounds.Height);var t=this.Target.TableLayout,n=0;e.strokeStyle=P,e.lineWidth=1;for(var i=0;i<t.Columns.length;i++){var s=t.Columns[i];e.strokeRect(n,-_,s.Size,_),n+=s.Size}var o=0;for(i=0;i<t.Rows.length;i++){var a=t.Rows[i];e.strokeRect(-_,o,_,a.Size),o+=a.Size}e.strokeRect(-_,-_,_,_),this.DrawMoveArrows(e,16,16);var r=this.Target.Surface;e.lineWidth=2,this.DrawSelectedCells(e,r.SelectionService.SelectedItems)}},{key:"GetElements",value:function(){for(var e=new Array,t=this.Target.TableLayout,n=0,i=0;i<t.Columns.length;i++){var s=t.Columns[i],o=new O;o.Bounds=new f["a"](n+s.Size-w/2,-_,w,_),o.Cursor="ew-resize",o.IsRow=!1,o.Index=i,e.push(o),n+=s.Size}var a=0;for(i=0;i<t.Rows.length;i++){var r=t.Rows[i];o=new O;o.Bounds=new f["a"](-_,a+r.Size-w/2,_,w),o.Cursor="ns-resize",o.IsRow=!0,o.Index=i,e.push(o),a+=r.Size}var h=new D;return h.Bounds=new f["a"](0,0,15,15),h.Cursor="move",e.push(h),e}},{key:"HitTest",value:function(e){for(var t=this.GetElements(),n=null,i="",s=0;s<t.length;s++){var o=t[s].HitTest(e);o[0]&&(n=t[s],i=o[1])}return n?(this._hitTestElement=n,[!0,i]):(this._hitTestElement=null,[!1,i])}},{key:"OnMouseMove",value:function(e){if(this._hitTestElement)if(this._hitTestElement instanceof O){var t=this.Target,n=t.TableLayout;if(this._hitTestElement.IsRow){if(0!==e.DeltaY){for(var i=0;i<t.Items.length;i++){var s=t.Items[i];s.Cell&&(s.Cell.RI===this._hitTestElement.Index||s.Cell.RI+s.Cell.RS-1===this._hitTestElement.Index?s.Bounds.Height+=e.DeltaY:s.Cell.RI>this._hitTestElement.Index&&(s.Bounds.Y+=e.DeltaY))}for(i=0;i<n.Rows.length;i++){var o=n.Rows[i];o.Index==this._hitTestElement.Index&&(o.Size+=e.DeltaY)}t.Bounds.Height+=e.DeltaY}}else if(0!==e.DeltaX){for(i=0;i<t.Items.length;i++){s=t.Items[i];s.Cell&&(s.Cell.CI===this._hitTestElement.Index||s.Cell.CI+s.Cell.CS-1===this._hitTestElement.Index?s.Bounds.Width+=e.DeltaX:s.Cell.CI>this._hitTestElement.Index&&(s.Bounds.X+=e.DeltaX))}for(i=0;i<n.Columns.length;i++){var a=n.Columns[i];a.Index==this._hitTestElement.Index&&(a.Size+=e.DeltaX)}t.Bounds.Width+=e.DeltaX}t.Invalidate()}else if(this._hitTestElement instanceof D){var r=this.Target;r.Move(e.DeltaX,e.DeltaY)}}},{key:"OnMouseUp",value:function(e){if(this._hitTestElement)if(this._hitTestElement instanceof O){var t=this.Target,n=t.TableLayout;if(this._hitTestElement.IsRow){var i=n.Rows[this._hitTestElement.Index].Size;j.ChangeProperty(this.Target,"ResizeRow",this._hitTestElement.Index,i)}else{var s=n.Columns[this._hitTestElement.Index].Size;j.ChangeProperty(this.Target,"ResizeCol",this._hitTestElement.Index,s)}}else if(this._hitTestElement instanceof D){var o=this.Target;o.OnEndMove()}}}]),t}(v["a"]),X=n("978d"),Y=function(e){function t(){var e;return Object(r["a"])(this,t),e=Object(u["a"])(this,Object(l["a"])(t).apply(this,arguments)),e.StartPos=new X["a"](0,0),e.EndPos=new X["a"](0,0),e.DragRect=new f["a"](0,0,0,0),e}return Object(c["a"])(t,e),Object(h["a"])(t,[{key:"Fetch",value:function(e){Object(C["a"])(Object(l["a"])(t.prototype),"Fetch",this).call(this,e);var n=e;this._tableLayout=n.TableLayout}},{key:"Paint",value:function(e){e.translate(this.Bounds.X,this.Bounds.Y);for(var t=0;t<this.Items.length;t++)this.Items[t].Paint(e);e.translate(-this.Bounds.X,-this.Bounds.Y)}},{key:"BeginCellSelection",value:function(e,t){this.StartPos=this.PointToClient(new X["a"](e,t)),this.EndPos=this.PointToClient(new X["a"](e,t))}},{key:"GetCellsInBound",value:function(e){for(var t=new Array,n=0;n<this.Items.length;n++){var i=this.Items[n];(e.Contains(i.Bounds.X,i.Bounds.Y)||e.Contains(i.Bounds.X+i.Bounds.Width,i.Bounds.Y)||e.Contains(i.Bounds.X,i.Bounds.Y+i.Bounds.Height)||e.Contains(i.Bounds.X+i.Bounds.Width,i.Bounds.Y+i.Bounds.Height))&&t.push(i),(i.Bounds.Contains(e.X,e.Y)||i.Bounds.Contains(e.X+e.Width,e.Y)||i.Bounds.Contains(e.X,e.Y+e.Height)||i.Bounds.Contains(e.X+e.Width,e.Y+e.Height))&&t.push(i),e.X>i.Bounds.X&&e.Width+e.X<i.Bounds.Width+i.Bounds.X&&e.Y<i.Bounds.Y&&e.Y+e.Height>i.Bounds.Height+i.Bounds.Y&&t.push(i),i.Bounds.X>e.X&&i.Bounds.Width+i.Bounds.X<e.Width+e.X&&i.Bounds.Y<e.Y&&i.Bounds.Y+i.Bounds.Height>e.Height+e.Y&&t.push(i)}return t}},{key:"MoveCellSelection",value:function(e,t){this.EndPos.X+=e,this.EndPos.Y+=t;var n=new f["a"](Math.min(this.StartPos.X,this.EndPos.X),Math.min(this.StartPos.Y,this.EndPos.Y),Math.abs(this.EndPos.X-this.StartPos.X),Math.abs(this.EndPos.Y-this.StartPos.Y)),i=this.GetCellsInBound(n);this.DragRect=n,i&&this.Surface&&this.Surface.SelectionService.SelectItems(i)}},{key:"IsContainer",get:function(){return!0}},{key:"TableLayout",get:function(){return this._tableLayout}},{key:"CellSelectionAdorner",get:function(){return!this._cellSelectionAdorner&&this.Surface&&(this._cellSelectionAdorner=new R(this.Surface.Adorners,this)),this._cellSelectionAdorner}}]),t}(S["a"]),j=function(){function e(t,n,i){Object(r["a"])(this,e),this._surface=t,this._channel=n,this._modelId=i,this._surface.DesignService=this}return Object(h["a"])(e,[{key:"RootDesigner",get:function(){return this._rootDesigner}}]),Object(h["a"])(e,[{key:"LoadDesignersFromServer",value:function(t){var n=new g;n.Fetch(t),e.LoopLoadChildren(n,t),this._rootDesigner=n,this._surface.AddItem(this._rootDesigner),this._surface.PropertyPanel.setPropertyOwner(this._rootDesigner),this._surface.Invalidate()}},{key:"ChangeProperty",value:function(t,n,i,s){var o=this;this._channel.invoke("sys.DesignService.ChangeReportItemProperty",[this._modelId,t.ID,n,i,s]).then(function(t){if(t){var n=t[0],i=e.LoopFindByID(o._rootDesigner,n.ID);if(i&&(i.Fetch(n),n.Items)){for(var s=0;s<n.Items.length;s++){var a=n.Items[s],r=e.LoopFindByID(i,a.ID);if(r)r.Fetch(a);else{var h=e.CreateDesigner(a.ItemType);h.Fetch(a),e.LoopLoadChildren(h,a),i.AddItem(h)}}if(i.Items.length!=n.Items.length){var u;for(s=0;s<i.Items.length;s++){u=i.Items[s];for(var l=0;l<n.Items.length;l++)if(i.Items[s].ID==n.Items[l].ID){u=null;break}u&&i.RemoveItem(u)}}i instanceof g?o._rootDesigner.Surface&&o._rootDesigner.Surface.Invalidate():i.Invalidate()}}}).catch(function(e){console.log("ChangeProperty Error:",e)})}},{key:"TableOperation",value:function(t){var n=this._surface.SelectionService.SelectedItems;if("SplitCells"!=t)if("InsertRow"!=t)if("InsertColumn"!=t)if("MergeCells"!=t);else{if(n.length<=1)return;for(var i="",s=0;s<n.length;s++){var o=n[s];if(o instanceof S["a"]&&o.Parent){if(!o.IsTableCell)return;o.Cell&&(i+=o.ID+";")}}var a=n[0].Parent;a&&e.ChangeProperty(a,t,n.length,i)}else{if(1!=n.length)return;var r=n[0];if(r instanceof S["a"]&&r.Parent){if(!r.IsTableCell)return;r.Cell&&e.ChangeProperty(r.Parent,t,r.Cell.RI,r.Cell.CI)}}else{if(1!=n.length)return;var h=n[0];if(h instanceof S["a"]&&h.Parent){if(!h.IsTableCell)return;h.Cell&&e.ChangeProperty(h.Parent,t,h.Cell.RI,h.Cell.CI)}}else{if(1!=n.length)return;var u=n[0];if(u instanceof S["a"]&&u.Parent){if(!u.IsTableCell)return;u.Cell&&e.ChangeProperty(u.Parent,t,u.Cell.RI,u.Cell.CI)}}}},{key:"GetShapes",value:function(){return[]}},{key:"GetConnections",value:function(){return[]}}],[{key:"ChangeProperty",value:function(e,t,n,i){e.Surface&&e.Surface.DesignService.ChangeProperty(e,t,n,i)}},{key:"LoopFindByID",value:function(t,n){if(t.ID===n)return t;if(t.Items)for(var i=null,s=0;s<t.Items.length;s++)if(i=e.LoopFindByID(t.Items[s],n),i)return i;return null}},{key:"LoopLoadChildren",value:function(t,n){if(n.Items)for(var i=0;i<n.Items.length;i++){var s=n.Items[i],o=e.CreateDesigner(s.ItemType);o.Fetch(s),e.LoopLoadChildren(o,s),t.AddItem(o)}}},{key:"CreateDesigner",value:function(e){switch(e){case y.ReportRoot:return new g;case y.ReportSection:return new T;case y.TextBox:return new p;case y.Graph:return new k;case y.Table:return new Y}}}]),e}(),W={components:{DesignView:a["a"]},props:{target:{type:Object,required:!0}},data:function(){return{designerType:"ReportDesigner",designService:null}},methods:{save:function(){var e=this.target,t=this;$runtime.channel.invoke("sys.DesignService.SaveModel",[e.Type,e.ID]).then(function(e){t.$message.success("保存成功")}).catch(function(e){t.$message.error("保存失败: "+e)})},MergeCells:function(){this.designService.TableOperation("MergeCells")},SplitCells:function(){this.designService.TableOperation("SplitCells")},InsertRow:function(){this.designService.TableOperation("InsertRow")},InsertColumn:function(){this.designService.TableOperation("InsertColumn")}},mounted:function(){var e=this,t=this;this.$nextTick(function(){e.designService=new j(e.$refs.designView.designSurface,$runtime.channel,e.target.ID),$runtime.channel.invoke("sys.DesignService.OpenReportModel",[e.target.ID]).then(function(t){e.designService.LoadDesignersFromServer(t)}).catch(function(e){t.$message.error(e.toString())})})}},H=W,M=n("2877"),E=Object(M["a"])(H,s,o,!1,null,null,null);t["default"]=E.exports}}]);