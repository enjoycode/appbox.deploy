(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0deab6"],{8745:function(e,t,n){"use strict";n.r(t);var i,s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{height:"100%",width:"100%"}},[n("design-view",{ref:"designView",attrs:{background:"lightgray"}})],1)},o=[],a=(n("6b54"),n("c34c")),r=n("d225"),h=n("b0b4"),c=n("308d"),u=n("6bb5"),l=n("2a88"),g=n("4e2b"),A=(n("ac6a"),n("2f49")),d=n("8500"),C=function(e){function t(){var e;return Object(r["a"])(this,t),e=Object(c["a"])(this,Object(u["a"])(t).apply(this,arguments)),e._isLoading=!1,e}return Object(g["a"])(t,e),Object(h["a"])(t,[{key:"DetachSourceLink",value:function(){null!=this._sourceLink?this._sourceLink.SourceConnection=null:(this._preSource=null,this._preSourceLink=null)}},{key:"OnRemoveFromSurface",value:function(){null!=this.Source&&null!=this.Target&&null!=this._sourceLink&&(this._sourceLink.Target=null),null!=this.Source?(null!=this._sourceLink&&(this._sourceLink.SourceConnection=null),this._sourceLink=null):(this._preSource=null,this._preSourceLink=null),Object(l["a"])(Object(u["a"])(t.prototype),"OnRemoveFromSurface",this).call(this),this.Invalidate()}},{key:"OnSourceChanged",value:function(e){Object(l["a"])(Object(u["a"])(t.prototype),"OnSourceChanged",this).call(this,e)}},{key:"OnTargetChanged",value:function(e){Object(l["a"])(Object(u["a"])(t.prototype),"OnTargetChanged",this).call(this,e),this._isLoading||console.log("OnTargetChanged todo....")}},{key:"OnSourceConnectorPositionChanged",value:function(e,n){Object(l["a"])(Object(u["a"])(t.prototype),"OnSourceConnectorPositionChanged",this).call(this,e,n),this._isLoading||null!=this._sourceLink&&(this._sourceLink.SourceConnector=e)}},{key:"OnTargetConnectorPositionChanged",value:function(e,n){Object(l["a"])(Object(u["a"])(t.prototype),"OnTargetConnectorPositionChanged",this).call(this,e,n),this._isLoading||null!=this._sourceLink&&(this._sourceLink.TargetConnector=e)}},{key:"getPropertyItems",value:function(){var e=new Array,t=this;return e.push({name:"显示",items:[{title:"标题",editor:"TextBox",readonly:!0,getter:function(){return t.Title},setter:function(e){}}]}),e.push({name:"位置",items:[{title:"开始点",editor:"TextBox",readonly:!0,getter:function(){return t.StartPoint.toString()},setter:function(e){}},{title:"结束点",editor:"TextBox",readonly:!0,getter:function(){return t.EndPoint.toString()},setter:function(e){}}]}),e}},{key:"Behavior",get:function(){return d["a"].None}}]),t}(A["a"]),b=n("a374"),I=n("978d"),v=n("b7c5"),m=n("1771"),y=(n("7f7f"),function e(){Object(r["a"])(this,e)}),f=function(){function e(){Object(r["a"])(this,e),this.name=""}return Object(h["a"])(e,[{key:"CalculateRelativePosition",value:function(e){return new I["a"](e.Width*this.Offset.X,e.Height*this.Offset.Y)}},{key:"Name",get:function(){return this.name},set:function(e){this.name=e}},{key:"Offset",get:function(){return this.offset},set:function(e){this.offset=e}},{key:"Shape",get:function(){return this.shape},set:function(e){this.shape=e}},{key:"AbsolutePosition",get:function(){if(!this.Shape)return new I["a"](0,0);var e=this.Shape.Bounds,t=new I["a"](e.X,e.Y),n=new y;n.Width=e.Width,n.Height=e.Height;var i=this.CalculateRelativePosition(n),s=new I["a"](t.X+i.X,t.Y+i.Y);return s}}]),e}(),j=n("662f"),k=function(e){function t(e,n){var s;return Object(r["a"])(this,t),s=Object(c["a"])(this,Object(u["a"])(t).call(this,e,n)),s._mode=i.None,s._bounds=new b["a"](0,0,n.Bounds.Width,n.Bounds.Height),s}return Object(g["a"])(t,e),Object(h["a"])(t,[{key:"OnRender",value:function(e){Object(l["a"])(Object(u["a"])(t.prototype),"OnRender",this).call(this,e),this._mode!==i.None&&(e.setLineDash([4,4]),e.strokeStyle="blue",e.lineWidth=2,e.strokeRect(this._bounds.X,this._bounds.Y,this._bounds.Width,this._bounds.Height),e.setLineDash([]))}},{key:"Move",value:function(e,t){this._mode!==i.Moving&&(this._mode=i.Moving),this._bounds.X+=e,this._bounds.Y+=t,this.Owner.Invalidate()}},{key:"OnEndMove",value:function(){this._mode===i.Moving&&(this._mode=i.None,this._bounds.X=this._bounds.Y=0,this.Owner.Invalidate())}},{key:"Bounds",get:function(){return this._bounds}}]),t}(j["a"]);(function(e){e[e["None"]=0]="None",e[e["Moving"]=1]="Moving",e[e["Resizing"]=2]="Resizing"})(i||(i={}));var p,W=n("3458"),O=function(e){function t(){var e;return Object(r["a"])(this,t),e=Object(c["a"])(this,Object(u["a"])(t).call(this)),e._bounds=new b["a"](0,0,0,0),e._connectors=new Array,e.EnsureDefaultConnectors(),e}return Object(g["a"])(t,e),Object(h["a"])(t,[{key:"EnsureDefaultConnectors",value:function(){this.EnsureConnector(W["a"].Auto),this.EnsureConnector(W["a"].Left),this.EnsureConnector(W["a"].Top),this.EnsureConnector(W["a"].Right),this.EnsureConnector(W["a"].Bottom)}},{key:"EnsureConnector",value:function(e){for(var t=-1,n=0;n<this._connectors.length;n++)if(this._connectors[n].Name===e){t=n;break}if(-1===t){var i=new f;i.Name=e,i.Offset=W["a"].GetKnownOffset(e),i.Shape=this,this._connectors.push(i)}}},{key:"CanConnect",value:function(e,t){return!0}},{key:"SetBounds",value:function(e,t,n,i,s){var o=new b["a"](this._bounds.X,this._bounds.Y,this._bounds.Width,this._bounds.Height);this._bounds.X=e,this._bounds.Y=t,this._bounds.Width=n,this._bounds.Height=i,this.InvalidateOnBoundsChanged(o)}},{key:"Move",value:function(e,t){var n=this.SelectionAdorner;n.Move(e,t)}},{key:"OnEndMove",value:function(){var e=this.SelectionAdorner,t=this._bounds.X+=e.Bounds.X,n=this._bounds.Y+=e.Bounds.Y;e.OnEndMove(),this.Surface&&this.Surface.DesignService&&this.Surface.DesignService.ChangeProperty(this,"Move",t,n),this._bounds.X=t,this._bounds.Y=n}},{key:"Paint",value:function(e,t){}},{key:"Position",get:function(){return new I["a"](this._bounds.X,this._bounds.Y)},set:function(e){this.SetBounds(e.X,e.Y,this._bounds.Width,this._bounds.Height,v["a"].All)}},{key:"Bounds",get:function(){return this._bounds},set:function(e){this.SetBounds(e.X,e.Y,e.Width,e.Height,v["a"].All)}},{key:"SelectionAdorner",get:function(){return!this._selectionAdorner&&this.Surface&&(this._selectionAdorner=new k(this.Surface.Adorners,this)),this._selectionAdorner}},{key:"Connectors",get:function(){return this._connectors}}]),t}(m["a"]);(function(e){e[e["StartActivityModel"]=1]="StartActivityModel",e[e["DecisionActivityModel"]=2]="DecisionActivityModel",e[e["AutomationActivityModel"]=3]="AutomationActivityModel",e[e["SingleHumanActivityModel"]=4]="SingleHumanActivityModel",e[e["MultiHumanActivityModel"]=5]="MultiHumanActivityModel"})(p||(p={}));var w=p,G=(n("6c7b"),function(){function e(t){Object(r["a"])(this,e),this._designer=t}return Object(h["a"])(e,[{key:"Paint",value:function(e,t){new b["a"](0,0,this._designer.Bounds.Width,this._designer.Bounds.Height);if(e.beginPath(),e.ellipse(this._designer.Bounds.Width/2,this._designer.Bounds.Height/2,this._designer.Bounds.Width/2,this._designer.Bounds.Height/2,0,0,2*Math.PI,!0),e.closePath(),e.fillStyle="Green",e.fill(),e.beginPath(),e.lineTo(10,5),e.lineTo(25,15),e.lineTo(10,25),e.closePath(),e.fillStyle="White",e.fill(),t){var n=0,i=e.measureText(t);this._designer.Bounds.Width>i.width&&(n=(this._designer.Bounds.Width-i.width)/2),e.fillStyle="black",e.textBaseline="middle",e.fillText(t,n,this._designer.Bounds.Height/2)}}}]),e}()),S=new Image;S.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAzCAYAAACNHMgNAAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAALEwAACxMBAJqcGAAABCJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmV4aWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vZXhpZi8xLjAvIgogICAgICAgICAgICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iCiAgICAgICAgICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyI+CiAgICAgICAgIDx0aWZmOlJlc29sdXRpb25Vbml0PjI8L3RpZmY6UmVzb2x1dGlvblVuaXQ+CiAgICAgICAgIDx0aWZmOkNvbXByZXNzaW9uPjU8L3RpZmY6Q29tcHJlc3Npb24+CiAgICAgICAgIDx0aWZmOlhSZXNvbHV0aW9uPjcyPC90aWZmOlhSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICAgICA8dGlmZjpZUmVzb2x1dGlvbj43MjwvdGlmZjpZUmVzb2x1dGlvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjI0PC9leGlmOlBpeGVsWERpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6Q29sb3JTcGFjZT4xPC9leGlmOkNvbG9yU3BhY2U+CiAgICAgICAgIDxleGlmOlBpeGVsWURpbWVuc2lvbj41MTwvZXhpZjpQaXhlbFlEaW1lbnNpb24+CiAgICAg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";var Z=new Image;Z.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAzCAYAAACNHMgNAAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAALEwAACxMBAJqcGAAABCJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmV4aWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vZXhpZi8xLjAvIgogICAgICAgICAgICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iCiAgICAgICAgICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyI+CiAgICAgICAgIDx0aWZmOlJlc29sdXRpb25Vbml0PjI8L3RpZmY6UmVzb2x1dGlvblVuaXQ+CiAgICAgICAgIDx0aWZmOkNvbXByZXNzaW9uPjU8L3RpZmY6Q29tcHJlc3Npb24+CiAgICAgICAgIDx0aWZmOlhSZXNvbHV0aW9uPjcyPC90aWZmOlhSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICAgICA8dGlmZjpZUmVzb2x1dGlvbj43MjwvdGlmZjpZUmVzb2x1dGlvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjI0PC9leGlmOlBpeGVsWERpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6Q29sb3JTcGFjZT4xPC9leGlmOkNvbG9yU3BhY2U+CiAgICAgICAgIDxleGlmOlBpeGVsWURpbWVuc2lvbj41MTwvZXhpZjpQaXhlbFlEaW1lbnNpb24+CiAgICAg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";var L=function(){function e(t,n){Object(r["a"])(this,e),this._designer=t,this._isSingle=n}return Object(h["a"])(e,[{key:"DrawRoundRect",value:function(e,t,n,i,s,o){i<2*o&&(o=i/2),s<2*o&&(o=s/2),e.strokeStyle="DarkGreen",e.lineWidth=1.5,e.beginPath(),e.moveTo(t+o,n),e.arcTo(t+i,n,t+i,n+s,o),e.arcTo(t+i,n+s,t,n+s,o),e.arcTo(t,n+s,t,n,o),e.arcTo(t,n,t+i,n,o),e.closePath(),e.stroke()}},{key:"Paint",value:function(e,t){if(this._isSingle?e.drawImage(S,2,(this._designer.Bounds.Height-20)/2,12,20):e.drawImage(Z,2,(this._designer.Bounds.Height-20)/2,12,20),this.DrawRoundRect(e,0,0,this._designer.Bounds.Width,this._designer.Bounds.Height,8),t){var n=0,i=e.measureText(t);this._designer.Bounds.Width>i.width&&(n=(this._designer.Bounds.Width-i.width)/2),e.fillStyle="black",e.textBaseline="middle",e.fillText(t,n+4,this._designer.Bounds.Height/2)}}}]),e}(),P=new Image;P.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAzCAYAAACNHMgNAAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAALEwAACxMBAJqcGAAABCJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmV4aWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vZXhpZi8xLjAvIgogICAgICAgICAgICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iCiAgICAgICAgICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyI+CiAgICAgICAgIDx0aWZmOlJlc29sdXRpb25Vbml0PjI8L3RpZmY6UmVzb2x1dGlvblVuaXQ+CiAgICAgICAgIDx0aWZmOkNvbXByZXNzaW9uPjU8L3RpZmY6Q29tcHJlc3Npb24+CiAgICAgICAgIDx0aWZmOlhSZXNvbHV0aW9uPjcyPC90aWZmOlhSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICAgICA8dGlmZjpZUmVzb2x1dGlvbj43MjwvdGlmZjpZUmVzb2x1dGlvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjI0PC9leGlmOlBpeGVsWERpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6Q29sb3JTcGFjZT4xPC9leGlmOkNvbG9yU3BhY2U+CiAgICAgICAgIDxleGlmOlBpeGVsWURpbWVuc2lvbj41MTwvZXhpZjpQaXhlbFlEaW1lbnNpb24+CiAgICAgICAgIDxkYzpzdWJqZWN0PgogICAgICAgICAgICA8cmRmOkJhZy8+CiAgICAgICAgIDwvZGM6c3ViamVjdD4KICAgICAgICAgPHhtcDpNb2RpZnlEYXRlPjIwMTc6MDM6MTEgMTQ6MDM6MzY8L3htcDpNb2RpZnlEYXRlPgogICAgICAgICA8eG1wOkNyZWF0b3JUb29sPlBpeGVsbWF0b3IgMy42PC94bXA6Q3JlYXRvclRvb2w+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgqyrJqFAAAD+ElEQVRYCe2UXYjWRRSH1/ykQisFM5MWtJTCjNLLbswgwksNgkgK0SCQUEG6LGUjuqgbwcAPsJvAiwIpIVlc8QsrqpswSlA0KPzIsg/TSnue/87v3dnXfTe8M3gPPP85c2bmnDNnZv49PV3pVqBbgZumAreUTO6l3Qe7YHyx2UwEbfthFihjB5v//uo8kx9HvwLX4E0wYC+8Adr+hMWgmMCYRhvl4wQZV+Y8QnsedPYXHIcToGNtZ2ERKM0Os/VB0/Cvjl0kf5ehx2hvL7pBZ0MvWCJlCpiEYgKtzNRrifPpGB+F32AObIQJcBUM/A8o2aFZvwbav4E74TrRuSivgo4McLno9hNAPdQ25150LJHRR5Sfi/W20upMSQK/o2uzbNoy7i6lo8SBE9ZCHHkWyfgQ+tOwFA4Wu6UR5/wB66CjZHdmdxhclDL9iv4ERJagNCWhzY0aQJ802i3Kds26uRG0EQOdS6fol0o/65zTvq61xBKlTGZ3GlzoAlt5F7xl98AWiD1lPIWt3iXdIamdn8Ds4tS3vi2fY5c4z5ycg2uvkzp7fwdZnNYAdZBR7TnIOooLPBvb98FsPLj74HlwTQKkxs1vAbvrLNFO+A4mww3J28xOximD/Vp/h76BRpSxWDOYc7gb25Pg2EPgDy1B3Ent/Ef6C0FpdhVnGnToZBf5CnWorIRPYAVMgmmgfAzPwItFp+mZCnVZmiSTqRPqgPb9S/pizfgjWAAD0A+zIDIH5VM4BvOLsUlQ56KDB2ADfA/vgcFWwWrwNfvD2wxeSx+VwXTcB8dhHtwKX4FViN/Wg1qOMbX9At1s0q/rfBj7gWpsGXq71FVp1dpsvoQ4TZtzqYNk7DPm94IyAcbBMOd1zd3mHlDyH/FOK1lkEMdslb1wEnTsm3C+wVvSHnF2GdFu8DjWnGS0xd7rAKJjDzWBtQ0Tt/cC5JdrNinDLvSX4MPKlvGfsD0HCY7aCq7eyLN8+8HJOvUGxMFe9OmgzIAcrpk6z/nnwHeyFCLZYdP3wSRbt+rC1PKtZsbQx2uaJOog2rYOTRvakXU7Uwbuor2j6AbJGexDvwD3wyvgTnSYsziF/gFsh9PQUdyi23VxSqQ+AH2QF12P/4D9KRhV3EVkB0ocWAL1dlJG7dsgUh90bK0yxOCfUnGxkiDqlq3ua3PHite6oyTyg8z4Ftoz1qlZx3k9/jX2uaDUlRi08NV5svUv6EEqA3BUBXGOB2rrLo7AflBM6uFGG+H+F3uzUH0mbILV4G2S9fALmITtGpgC3riX4XXIOzGBG5bxrPARGWA3DHtA9COd7K3sMzGth2ZNva5eT6UfDGSm9aHqPGVG7Uq3Av+7CvwLiL5M62EvMSQAAAAASUVORK5CYII=";var B,D=function(){function e(t){Object(r["a"])(this,e),this._designer=t}return Object(h["a"])(e,[{key:"DrawRoundRect",value:function(e,t,n,i,s,o){i<2*o&&(o=i/2),s<2*o&&(o=s/2),e.lineWidth=1.5,e.strokeStyle="DarkGreen",e.beginPath(),e.moveTo(t+o,n),e.arcTo(t+i,n,t+i,n+s,o),e.arcTo(t+i,n+s,t,n+s,o),e.arcTo(t,n+s,t,n,o),e.arcTo(t,n,t+i,n,o),e.closePath(),e.stroke()}},{key:"Paint",value:function(e,t){if(this.DrawRoundRect(e,0,0,this._designer.Bounds.Width,this._designer.Bounds.Height,30),e.drawImage(P,2,(this._designer.Bounds.Height-20)/2,12,20),t){var n=0,i=e.measureText(t);this._designer.Bounds.Width>i.width&&(n=(this._designer.Bounds.Width-i.width)/2),e.fillStyle="black",e.textBaseline="middle",e.fillText(t,n+6,this._designer.Bounds.Height/2)}}}]),e}(),M=function(){function e(t){Object(r["a"])(this,e),this._designer=t}return Object(h["a"])(e,[{key:"DrawDiamond",value:function(e){var t=this._designer.Bounds.Width/2,n=this._designer.Bounds.Height/2;e.lineWidth=1.5,e.strokeStyle="DarkGreen",e.beginPath(),e.moveTo(0,n),e.lineTo(t,0),e.lineTo(this._designer.Bounds.Width,n),e.lineTo(t,this._designer.Bounds.Height),e.lineTo(0,n),e.closePath(),e.stroke()}},{key:"Paint",value:function(e,t){if(this.DrawDiamond(e),t){var n=0,i=e.measureText(t);this._designer.Bounds.Width>i.width&&(n=(this._designer.Bounds.Width-i.width)/2),e.fillStyle="black",e.textBaseline="middle",e.fillText(t,n,this._designer.Bounds.Height/2)}}}]),e}();(function(e){e[e["None"]=0]="None",e[e["X"]=1]="X",e[e["Y"]=2]="Y",e[e["Location"]=3]="Location",e[e["Width"]=4]="Width",e[e["Height"]=8]="Height",e[e["Size"]=12]="Size",e[e["All"]=15]="All"})(B||(B={}));var R=function(e){function t(){var e;return Object(r["a"])(this,t),e=Object(c["a"])(this,Object(u["a"])(t).call(this)),e._painter=null,e}return Object(g["a"])(t,e),Object(h["a"])(t,[{key:"OnAddToSurface",value:function(e){Object(l["a"])(Object(u["a"])(t.prototype),"Invalidate",this).call(this)}},{key:"OnRemoveFromSurface",value:function(){console.log("ActivityDesigner OnRemoveFromSurface todo!!!!"),Object(l["a"])(Object(u["a"])(t.prototype),"OnRemoveFromSurface",this).call(this)}},{key:"Invalidate",value:function(){if(null!=this.Surface){var e=new b["a"](this.Bounds.X-1,this.Bounds.Y-1,this.Bounds.Width+2,this.Bounds.Height+2);this.Surface.Invalidate(e)}}},{key:"CanConnect",value:function(e,t){return console.log("ActivityDesigner CanConnect todo.....\n"),!0}},{key:"Paint",value:function(e,t){null!=this._painter?this._painter.Paint(e,this._title):(e.lineWidth=2,e.strokeStyle="green",e.strokeRect(0,0,this.Bounds.Width,this.Bounds.Height))}},{key:"Fetch",value:function(e){switch(this._title=e.Title,this._id=e.ID,this._bounds.X=e.Bounds.X,this._bounds.Y=e.Bounds.Y,this._bounds.Width=e.Bounds.Width,this._bounds.Height=e.Bounds.Height,e.Bounds instanceof b["a"]&&console.log("data.Bounds is Rectangle"),e.ItemType){case w.StartActivityModel:this._painter=new G(this);break;case w.SingleHumanActivityModel:this._painter=new L(this,!0);break;case w.MultiHumanActivityModel:this._painter=new L(this,!1);break;case w.AutomationActivityModel:this._painter=new D(this);break;case w.DecisionActivityModel:this._painter=new M(this);break}}},{key:"Behavior",get:function(){return d["a"].CanMove}}]),t}(O),H=function(){function e(t){Object(r["a"])(this,e),this._service=t}return Object(h["a"])(e,[{key:"getPropertyOwnerType",value:function(){return"工作流模型"}},{key:"getPropertyItems",value:function(){var e=this,t=new Array;return t.push({name:"属性",items:[{title:"标识",editor:"TextBox",readonly:!0,getter:function(){return e._service.ModelID},setter:function(e){}},{title:"参数",editor:"TextBox",readonly:!1,getter:function(){return"参数列表"},setter:function(e){}}]}),t}}]),e}(),z=function(){function e(t,n,i){Object(r["a"])(this,e),this._surface=t,this._channel=n,this._modelId=i,this._surface.DesignService=this,this._rootDesigner=new H(this)}return Object(h["a"])(e,[{key:"ChangeProperty",value:function(e,t,n,i){var s=this;this._channel.invoke("sys.DesignService.ChangeWorkflowItemProperty",[this._modelId,e.ID,t,n,i]).then((function(e){if(e)for(var t=e,n=0;n<t.length;n++){var i=t[n],o=s.FindByID(i.ID);o&&o.Fetch(i),s._surface.Invalidate()}})).catch((function(e){console.log("ChangeProperty Error:",e)}))}},{key:"FindByID",value:function(e){for(var t=0;t<this._surface.Items.length;t++){var n=this._surface.Items[t];if(n.ID===e)return n}return null}},{key:"LoadDesignersFromServer",value:function(e){for(var t=0;t<e.Designers.length;t++){var n=e.Designers[t],i=new R;i.Fetch(n),this._surface.AddItem(i)}for(t=0;t<e.Connections.length;t++){n=e.Connections[t];var s=new C;s.Fetch(n),this._surface.AddItem(s)}this._surface.PropertyPanel.setPropertyOwner(this._rootDesigner),this._surface.Invalidate()}},{key:"GetShapes",value:function(){for(var e=new Array,t=0;t<this._surface.Items.length;t++){var n=this._surface.Items[t];n instanceof R&&e.push(n)}return e}},{key:"GetConnections",value:function(){for(var e=new Array,t=0;t<this._surface.Items.length;t++){var n=this._surface.Items[t];n instanceof C&&e.push(n)}return e}},{key:"GetPropertyEditor",value:function(e){return null}},{key:"ModelID",get:function(){return this._modelId}},{key:"RootDesigner",get:function(){return this._rootDesigner}}]),e}(),Y={components:{DesignView:a["a"]},props:{target:{type:Object,required:!0}},data:function(){return{}},methods:{save:function(){console.warn("尚未实现")}},mounted:function(){var e=this,t=this;this.$nextTick((function(){var n=new z(e.$refs.designView.designSurface,$runtime.channel,e.target.ID);$runtime.channel.invoke("sys.DesignService.OpenWorkflowModel",[e.target.ID]).then((function(e){n.LoadDesignersFromServer(e)})).catch((function(e){t.$message.error(e.toString())}))}))}},T=Y,V=n("2877"),X=Object(V["a"])(T,s,o,!1,null,null,null);t["default"]=X.exports}}]);